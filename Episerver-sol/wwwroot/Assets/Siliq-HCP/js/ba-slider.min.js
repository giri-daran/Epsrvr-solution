function baSlider(e) { if ($(e)[0]) { let t = $(e); t.each(function () { let e = $(this).width() + "px"; $(this).find(".resize img").css({ width: e }), drags($(this).find(".divider"), $(this).find(".resize"), $(this)) }), $(window).on("resize", function () { let e = t.width() + "px"; t.find(".resize img").css({ width: e }) }) } } function drags(e, t, s) { let n = !1; window.addEventListener("touchstart", function () { n = !0 }), window.addEventListener("touchend", function () { n = !1 }), e.on("mousedown touchstart", function (i) { e.addClass("draggable"), t.addClass("resizable"); let o = i.pageX ? i.pageX : i.originalEvent.touches[0].pageX, a = e.outerWidth(), l = e.offset().left + a - o, c = s.offset().left, d = s.outerWidth(), r = c, u = c + d - a; e.parents().on("mousemove touchmove", function (e) { !1 === n && e.preventDefault(); let s = (e.pageX ? e.pageX : e.originalEvent.touches[0].pageX) + l - a; s < r ? s = r : s > u && (s = u); let i = (s + a / 2 - c) * 100 / d + "%"; $(".draggable").css("left", i).on("mouseup touchend touchcancel", function () { $(this).removeClass("draggable"), t.removeClass("resizable") }), $(".resizable").css("width", i) }).on("mouseup touchend touchcancel", function () { e.removeClass("draggable"), t.removeClass("resizable") }) }).on("mouseup touchend touchcancel", function (s) { e.removeClass("draggable"), t.removeClass("resizable") }) }